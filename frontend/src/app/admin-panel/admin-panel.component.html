<!-- Panel de Administrador -->
<div class="admin-container">
  <!-- NotificaciÃ³n -->
  <div *ngIf="mostrarNotificacion" class="notification" [class]="'notification-' + tipoNotificacion">
    <div class="notification-content">
      <span class="notification-icon">
        <span *ngIf="tipoNotificacion === 'success'">âœ…</span>
        <span *ngIf="tipoNotificacion === 'error'">âŒ</span>
        <span *ngIf="tipoNotificacion === 'warning'">âš ï¸</span>
      </span>
      <span class="notification-message">{{ mensajeNotificacion }}</span>
    </div>
    <button class="notification-close" (click)="cerrarNotificacion()">Ã—</button>
  </div>
  <!-- Header del Panel -->
  <header class="admin-header">
    <div class="admin-header-content">
      <div class="admin-header-left">
        <h1 class="admin-title">
          <span class="admin-icon">âš™ï¸</span>
          Panel de AdministraciÃ³n
        </h1>
        <p class="admin-subtitle">Gestiona tu tienda Columbia desde un solo lugar</p>
      </div>
      <div class="admin-header-right">
        <div class="admin-user-info">
          <span class="admin-user-avatar">ğŸ‘¤</span>
          <div class="admin-user-details">
            <span class="admin-user-name">Administrador</span>
            <span class="admin-user-role">Super Admin</span>
          </div>
        </div>
        <button class="admin-logout-btn" (click)="salirAdminPanel()">
          <span class="logout-icon">ğŸšª</span>
          Salir
        </button>
      </div>
    </div>
  </header>

  <!-- NavegaciÃ³n del Panel -->
  <nav class="admin-nav">
    <div class="admin-nav-content">
      <a (click)="seleccionarSeccion('dashboard'); $event.preventDefault()" [class.active]="seccionSeleccionada === 'dashboard'" class="admin-nav-item">
        <span class="nav-icon">ğŸ“Š</span>
        Dashboard
      </a>
      <a (click)="seleccionarSeccion('productos'); $event.preventDefault()" [class.active]="seccionSeleccionada === 'productos'" class="admin-nav-item">
        <span class="nav-icon">ğŸ‘•</span>
        Productos
      </a>
      <a (click)="seleccionarSeccion('pedidos'); $event.preventDefault()" [class.active]="seccionSeleccionada === 'pedidos'" class="admin-nav-item">
        <span class="nav-icon">ğŸ“¦</span>
        Pedidos
      </a>
      <a (click)="seleccionarSeccion('clientes'); $event.preventDefault()" [class.active]="seccionSeleccionada === 'clientes'" class="admin-nav-item">
        <span class="nav-icon">ğŸ‘¥</span>
        Clientes
      </a>
      <a (click)="seleccionarSeccion('categorias'); $event.preventDefault()" [class.active]="seccionSeleccionada === 'categorias'" class="admin-nav-item">
        <span class="nav-icon">ğŸ·ï¸</span>
        CategorÃ­as
      </a>
      <a (click)="seleccionarSeccion('reportes'); $event.preventDefault()" [class.active]="seccionSeleccionada === 'reportes'" class="admin-nav-item">
        <span class="nav-icon">ğŸ“ˆ</span>
        Reportes
      </a>
      <a (click)="seleccionarSeccion('configuracion'); $event.preventDefault()" [class.active]="seccionSeleccionada === 'configuracion'" class="admin-nav-item">
        <span class="nav-icon">âš™ï¸</span>
        ConfiguraciÃ³n
      </a>
    </div>
  </nav>

  <!-- Contenido Principal -->
  <main class="admin-main">
    <!-- Dashboard -->
    <section *ngIf="seccionSeleccionada === 'dashboard'" class="admin-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ“Š Dashboard</h2>
        <p class="section-subtitle">Resumen general de tu tienda</p>
      </div>
      <!-- AquÃ­ va el contenido estÃ¡tico del dashboard -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">ğŸ’°</div>
          <div class="stat-content">
            <h3 class="stat-value">S/ 15,420.00</h3>
            <p class="stat-label">Ventas Hoy</p>
            <span class="stat-change positive">+12.5%</span>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ“ˆ</div>
          <div class="stat-content">
            <h3 class="stat-value">S/ 458,750.00</h3>
            <p class="stat-label">Ventas del Mes</p>
            <span class="stat-change positive">+8.3%</span>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ“¦</div>
          <div class="stat-content">
            <h3 class="stat-value">23</h3>
            <p class="stat-label">Pedidos Pendientes</p>
            <span class="stat-change negative">+5</span>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ‘¥</div>
          <div class="stat-content">
            <h3 class="stat-value">0</h3>
            <p class="stat-label">Total de Clientes</p>
            <span class="stat-change positive">+0</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Productos -->
    <section *ngIf="seccionSeleccionada === 'productos'" class="admin-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ‘• Productos</h2>
        <p class="section-subtitle">GestiÃ³n de productos (contenido estÃ¡tico de ejemplo)</p>
      </div>
      <p>Listado de productos, acciones de ejemplo, etc.</p>
    </section>

    <!-- Pedidos -->
    <section *ngIf="seccionSeleccionada === 'pedidos'" class="admin-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ“¦ Pedidos</h2>
        <p class="section-subtitle">GestiÃ³n de pedidos (contenido estÃ¡tico de ejemplo)</p>
      </div>
      <p>Listado de pedidos, acciones de ejemplo, etc.</p>
    </section>

    <!-- Clientes -->
    <section *ngIf="seccionSeleccionada === 'clientes'" class="admin-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ‘¥ Clientes</h2>
        <p class="section-subtitle">GestiÃ³n de clientes (funcionalidad en desarrollo)</p>
      </div>
      <p>Esta secciÃ³n estarÃ¡ disponible prÃ³ximamente.</p>
    </section>

    <!-- CategorÃ­as -->
    <section *ngIf="seccionSeleccionada === 'categorias'" class="admin-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ·ï¸ CategorÃ­as</h2>
        <p class="section-subtitle">GestiÃ³n de categorÃ­as - Total: {{ categorias.length }}</p>
        <button class="btn-primary" (click)="abrirModalCrearCategoria()">
          <span class="btn-icon">â•</span>
          Nueva CategorÃ­a
        </button>
      </div>
      
      <!-- Estado de carga -->
      <div class="loading-state" *ngIf="cargandoCategorias">
        <div class="loading-spinner"></div>
        <p>Cargando categorÃ­as...</p>
      </div>

      <!-- Estado de error -->
      <div class="error-state" *ngIf="errorCargarCategorias">
        <div class="error-icon">âš ï¸</div>
        <h3>Error al cargar categorÃ­as</h3>
        <p>No se pudieron cargar las categorÃ­as. Por favor, intenta de nuevo.</p>
        <button class="btn-primary" (click)="cargarCategorias()">Reintentar</button>
      </div>
      
      <!-- Tabla de categorÃ­as -->
      <div class="table-container" *ngIf="!cargandoCategorias && !errorCargarCategorias">
        <table class="admin-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th>DescripciÃ³n</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let categoria of categorias">
              <td>{{ categoria.idCategoria }}</td>
              <td>{{ categoria.nombreCategoria }}</td>
              <td>{{ categoria.descripcionCategoria }}</td>
              <td class="actions-cell">
                <button class="action-btn edit-btn" (click)="abrirModalEditarCategoria(categoria)" title="Editar">
                  <span class="btn-icon">âœï¸</span>
                  <span class="btn-text">Editar</span>
                </button>
                <button class="action-btn delete-btn" (click)="abrirModalEliminarCategoria(categoria)" title="Eliminar">
                  <span class="btn-icon">ğŸ—‘ï¸</span>
                  <span class="btn-text">Eliminar</span>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Reportes -->
    <section *ngIf="seccionSeleccionada === 'reportes'" class="admin-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ“ˆ Reportes</h2>
        <p class="section-subtitle">AnÃ¡lisis y reportes de ventas (contenido estÃ¡tico de ejemplo)</p>
      </div>
      <p>GrÃ¡ficos, estadÃ­sticas, reportes de ventas, etc.</p>
    </section>

    <!-- ConfiguraciÃ³n -->
    <section *ngIf="seccionSeleccionada === 'configuracion'" class="admin-section">
      <div class="section-header">
        <h2 class="section-title">âš™ï¸ ConfiguraciÃ³n</h2>
        <p class="section-subtitle">ConfiguraciÃ³n del sistema (contenido estÃ¡tico de ejemplo)</p>
      </div>
      <p>ConfiguraciÃ³n de la tienda, preferencias, etc.</p>
    </section>
  </main>

  <!-- Modal para crear categorÃ­a -->
  <div *ngIf="mostrarModalCrearCategoria" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Crear Nueva CategorÃ­a</h3>
        <button class="modal-close" (click)="cerrarModalCrearCategoria()">Ã—</button>
      </div>
      <div class="modal-body">
        <form (ngSubmit)="crearCategoria()" #crearForm="ngForm">
          <div class="form-group">
            <label for="nombreCategoria">Nombre de la CategorÃ­a:</label>
            <input type="text" id="nombreCategoria" name="nombreCategoria" [(ngModel)]="nuevaCategoria.nombreCategoria" required>
          </div>
          <div class="form-group">
            <label for="descripcionCategoria">DescripciÃ³n:</label>
            <textarea id="descripcionCategoria" name="descripcionCategoria" [(ngModel)]="nuevaCategoria.descripcionCategoria" rows="3" required></textarea>
          </div>
          <div class="form-actions">
            <button type="button" class="btn-secondary" (click)="cerrarModalCrearCategoria()" [disabled]="cargandoCrear">Cancelar</button>
            <button type="submit" class="btn-primary" [disabled]="!crearForm.form.valid || cargandoCrear">
              <span *ngIf="!cargandoCrear">Crear</span>
              <span *ngIf="cargandoCrear" class="loading-spinner-small"></span>
              <span *ngIf="cargandoCrear">Creando...</span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal para editar categorÃ­a -->
  <div *ngIf="mostrarModalEditarCategoria && categoriaSeleccionada" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Editar CategorÃ­a</h3>
        <button class="modal-close" (click)="cerrarModalEditarCategoria()">Ã—</button>
      </div>
      <div class="modal-body">
        <form (ngSubmit)="editarCategoria()" #editarForm="ngForm">
          <div class="form-group">
            <label for="nombreCategoriaEdit">Nombre de la CategorÃ­a:</label>
            <input type="text" id="nombreCategoriaEdit" name="nombreCategoria" [(ngModel)]="categoriaSeleccionada.nombreCategoria" required>
          </div>
          <div class="form-group">
            <label for="descripcionCategoriaEdit">DescripciÃ³n:</label>
            <textarea id="descripcionCategoriaEdit" name="descripcionCategoria" [(ngModel)]="categoriaSeleccionada.descripcionCategoria" rows="3" required></textarea>
          </div>
          <div class="form-actions">
            <button type="button" class="btn-secondary" (click)="cerrarModalEditarCategoria()" [disabled]="cargandoEditar">Cancelar</button>
            <button type="submit" class="btn-primary" [disabled]="!editarForm.form.valid || cargandoEditar">
              <span *ngIf="!cargandoEditar">Guardar</span>
              <span *ngIf="cargandoEditar" class="loading-spinner-small"></span>
              <span *ngIf="cargandoEditar">Guardando...</span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal para confirmar eliminaciÃ³n -->
  <div *ngIf="mostrarModalEliminarCategoria && categoriaSeleccionada" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Confirmar EliminaciÃ³n</h3>
        <button class="modal-close" (click)="cerrarModalEliminarCategoria()">Ã—</button>
      </div>
      <div class="modal-body">
        <div class="confirm-message">
          <div class="warning-icon">âš ï¸</div>
          <h4>Â¿EstÃ¡s seguro de que quieres eliminar esta categorÃ­a?</h4>
          <p><strong>{{ categoriaSeleccionada.nombreCategoria }}</strong></p>
          <p class="warning-text">Esta acciÃ³n no se puede deshacer y afectarÃ¡ a todos los productos asociados a esta categorÃ­a.</p>
        </div>
        <div class="form-actions">
          <button type="button" class="btn-secondary" (click)="cerrarModalEliminarCategoria()" [disabled]="cargandoEliminar">Cancelar</button>
          <button type="button" class="btn-danger" (click)="eliminarCategoria()" [disabled]="cargandoEliminar">
            <span *ngIf="!cargandoEliminar">Eliminar</span>
            <span *ngIf="cargandoEliminar" class="loading-spinner-small"></span>
            <span *ngIf="cargandoEliminar">Eliminando...</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div> 